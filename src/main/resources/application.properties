server.port=5403
server.shutdown=graceful
spring.application.name=nexus
# The server will wait up to one minute for active requests to complete
spring.lifecycle.timeout-per-shutdown-phase=20s

# MongoDB configuration
spring.data.mongodb.host=mongodb.planckscale
spring.data.mongodb.port=27017
## spring.data.mongodb.database=admin
## spring.data.mongodb.username=root
## spring.data.mongodb.password=secret

# Redis configuration
spring.redis.host=redis.planckscale
spring.redis.port=6379

# Enable multipart uploads
spring.servlet.multipart.enabled=true
spring.servlet.multipart.file-size-threshold=2KB
spring.servlet.multipart.max-file-size=200MB
spring.servlet.multipart.max-request-size=215MB

# Spring email
spring.mail.host=pro1.mail.ovh.net
spring.mail.port=587
spring.mail.username=
spring.mail.password=
spring.mail.properties.mail.transport.protocol=smtp
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.from=contact@test.com
spring.mail.default-encoding=UTF-8
# spring.mail.test-connection=true
mail.from.name=planckscale

# Logging properties
logging.level.org.springframework.security = DEBUG
logging.level.org.springframework.data.mongodb.core=INFO
logging.level.org.mongodb.driver.protocol.command=DEBUG
logging.level.com.tericcabrel=DEBUG
logging.pattern.console=%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(%5p) %clr([%15.15t]){faint} %clr(%-40.40logger{-39}){cyan} %clr(:){faint} %m%n%wEx{12}%nopex
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} %5p [${spring.application.name}] [%15.15t] %-40.40logger{-39} : %m%n%wEx{12}%nopex
logging.file.name=logs/nexus.log
logging.logback.rollingpolicy.max-file-size=10MB
logging.logback.rollingpolicy.max-history=30
logging.logback.rollingpolicy.total-size-cap=1GB
logging.logback.rollingpolicy.clean-history-on-start=false

# File Storage Properties
app.file.upload-dir=./uploads/avatars
app.file.storage.mapping=file:/var/identity-authorization/uploads/
app.url.confirm-account=http://localhost:3000/confirm-account
app.url.password-reset=http://localhost:3000/reset-password

app.jwt.secret.key=ArgZrBRTRV6xgjnVts2RgLA66ebGfhSx
app.permission.load.mode=update
app.permission.file.name=permission.json

spring.security.oauth2.resourceserver.jwt.issuer-uri=http://helios.planckscale:5055
jwk.set.uri=http://helios.planckscale:5055/oauth2/jwks